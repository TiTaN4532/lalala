{% trans_default_domain 'FOSUserBundle' %}

{% if not app.request.get('type') %}
<div class="col col_1_of_1">
  <h1>Регистриция</h1>
  <h3>Вы регистрируетесь как:</h3>
  <div id="registration">
    <a href="{{ path('fos_user_registration_register', {'type': 'consumer'}) }}">Обычный пользователь</a>
    <a href="{{ path('fos_user_registration_register', {'type': 'specialist'}) }}">Специалист</a>
    {#<a href="{{ path('fos_user_registration_register', {'type': 'salon'}) }}">Салон</a>
    <a href="{{ path('fos_user_registration_register', {'type': 'agancy'}) }}">Представительство</a>
    <a href="{{ path('fos_user_registration_register', {'type': 'shop'}) }}">Магазин</a>
    <a href="{{ path('fos_user_registration_register', {'type': 'school_center'}) }}">Учебный центр</a>#}
    
  </div>
{% else %}
  <div class="col col_1_of_2">
  <form action="" {{ form_enctype(form) }} method="POST" class="fos_user_registration_register" name="{{ form.vars.name }}">
    {{ form_errors(form) }}
    {{ form_row(form.email) }}
    {{ form_row(form.plainPassword) }}
    {% if app.request.get('type') == 'specialist' %}
        {{ form_row(form.userInfo.firstName) }}
        {{ form_row(form.userInfo.lastName) }}
        <div class="row">
          <div class="col col_1_of_4">{{ form_row(form.userInfo.gender) }}</div>
          <div class="col col_3_of_4">{{ form_row(form.userInfo.birthday) }}</div>
        </div>
        {{ form_row(form.userInfo.serviceType) }}
        {{ form_row(form.userInfo.category) }}
        {{ form_row(form.userInfo.location.country) }}
        {{ form_row(form.userInfo.location.district) }}
        {{ form_row(form.userInfo.location.station) }}
        {{ form_row(form.userInfo.location.street) }}
        {{ form_row(form.userInfo.location.building) }}
        {{ form_row(form.userInfo.startWork) }}
        <div>{{ form_widget(form.showPhone) }}{{ form_label(form.showPhone) }}</div>
        <div>{{ form_widget(form.showMail) }}{{ form_label(form.showMail) }}</div>
        <div>{{ form_widget(form.newsNotify) }}{{ form_label(form.newsNotify) }}</div>
    {% elseif app.request.get('type') == 'consumer' %}   
        {{ form_row(form.userInfo.firstName) }}
        {{ form_row(form.userInfo.lastName) }}
    <div class="row">
      <div class="col col_1_of_4">{{ form_row(form.userInfo.gender) }}</div>
      <div class="col col_3_of_4">{{ form_row(form.userInfo.birthday) }}</div>
    </div>
        {{ form_row(form.userInfo.location.country) }}
    
    <label>Телефон:</label>
    <ul class="phone" data-prototype="{{ form_widget(form.phone.vars.prototype)|e }}">
        {% for item in form.phone %}
            <li>{{ form_widget(item.name) }}</li>
        {% endfor %}
    </ul>
    <div>{{ form_widget(form.showPhone) }}{{ form_label(form.showPhone) }}</div>
    <div>{{ form_widget(form.showMail) }}{{ form_label(form.showMail) }}</div>
    <div>{{ form_widget(form.newsNotify) }}{{ form_label(form.newsNotify) }}</div>
    {% elseif app.request.get('type') == 'salon' %}   
        {{ form_row(form.userInfo.name) }}
        {{ form_row(form.userInfo.category) }}
    {% elseif app.request.get('type') == 'agancy' %}   
        {{ form_row(form.userInfo.name) }}
        {{ form_row(form.userInfo.category) }}
    {% elseif app.request.get('type') == 'shop' %}   
        {{ form_row(form.userInfo.name) }}
    {% elseif app.request.get('type') == 'school_center' %}   
        {{ form_row(form.userInfo.name) }}
        {{ form_row(form.userInfo.category) }}
    {% endif %}
        <div>{{ form_widget(form.termsConditions) }}{{ form_label(form.termsConditions) }} <a href="" class="blue-link">пользовательским соглашением</a></div>
        {{ form_row(form._token) }}
    <div>
        <input type="submit" value="{{ 'registration.submit'|trans }}" />
    </div>
  </form>
   
{% endif %}
</div>
